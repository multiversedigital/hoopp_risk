# app.py è®¾è®¡æ–‡æ¡£

## 1. å®šä½

app.py æ˜¯ Streamlit å…¥å£ï¼Œè´Ÿè´£ä¸‰ä»¶äº‹ï¼š

1. **å…¨å±€æ ·å¼** â€” page config + CSS æ³¨å…¥
2. **Sidebar** â€” æ—¥æœŸé€‰æ‹©å™¨ï¼ˆå”¯ä¸€çš„å…¨å±€äº¤äº’æ§ä»¶ï¼‰
3. **Tab è·¯ç”±** â€” è°ƒç”¨ engine æ‹¿åˆ° ctxï¼Œä¾æ¬¡ render 5 ä¸ª Tab

ä¸æ”¾ä»»ä½•è®¡ç®—é€»è¾‘ã€‚æ‰€æœ‰æ•°æ®ä» `engine.build_context()` è¿”å›çš„ ctx ä¸­å–ã€‚

---

## 2. é¢œè‰²ä½“ç³»

é‡‘èç»ˆç«¯é£æ ¼ï¼ˆæ·±è‰²ä¸»é¢˜ï¼‰ã€‚æ ¸å¿ƒç†ç”±ï¼šæ•°æ®å¯†é›†çš„ä»ªè¡¨ç›˜åœ¨æ·±è‰²èƒŒæ™¯ä¸Šæ¯”ç™½è‰²èƒŒæ™¯å¯¹æ¯”åº¦æ›´é«˜ï¼Œé•¿æ—¶é—´ç›¯ç€å±å¹•ä¹Ÿæ›´èˆ’é€‚ã€‚

```
èƒŒæ™¯è‰²é˜¶:
  é¡µé¢åº•å±‚    #0f1923  æ·±è“é»‘      â† .stApp background
  å¡ç‰‡å±‚      #162232  ç•¥æµ…æ·±è“    â† metric card, table, input
  è¡¨å¤´å±‚      #1a2d42  æ·±è“ç°      â† table th, hover state
  Sidebar     #0a1420  æ¯”é¡µé¢æ›´æ·±  â† è§†è§‰å±‚æ¬¡æ„Ÿ

æ–‡å­—è‰²:
  æ­£æ–‡        #e8edf2  æµ…ç°ç™½
  å‰¯æ–‡å­—      #8a9bb0  ç°è“        â† label, caption, description

Accent è‰²:
  ä¸»è‰²        #00b4d8  å†°è“        â† æ ‡é¢˜é«˜äº®, æŒ‰é’®, æ¿€æ´» tab ä¸‹åˆ’çº¿, metric æ•°å€¼
  è¾…è‰²        #48cae4  æµ…è“        â† æŒ‰é’® hover

è¾¹ç•Œ / åˆ†éš”:
  border      #1e3a5f  æ·±è“        â† å¡ç‰‡è¾¹æ¡†, è¡¨æ ¼è¡Œåˆ†éš”, sidebar å³ä¾§çº¿

çŠ¶æ€è‰² (é€šç”¨, ä¸éšä¸»é¢˜å˜):
  ç»¿          #00c9a7  â† ğŸŸ¢ OK
  æ©™          #f9a825  â† ğŸŸ¡ WARN
  çº¢          #e74c3c  â† ğŸ”´ BREACH
```

### Plotly å›¾è¡¨é¢œè‰²æ˜ å°„

æ‰€æœ‰ Plotly å›¾è¡¨ç”¨ `template="plotly_dark"` ä½œä¸ºåŸºç¡€ï¼Œç„¶åå•ç‹¬è¦†ç›–ï¼š

| ç”¨é€” | é¢œè‰² |
|---|---|
| é¥¼å›¾ slice | `['#00b4d8','#48cae4','#0891b2','#06b6d4','#22d3ee']` å†°è“è‰²é˜¶ |
| æŸ±çŠ¶å›¾ Actual | `#00b4d8` |
| æŸ±çŠ¶å›¾ Target | `#f9a825` |
| æŸ±çŠ¶å›¾ Range band | `rgba(30,58,95,0.4)` åŠé€æ˜æ·±è“ |
| æ—¶é—´åºåˆ—çº¿ | `#00b4d8` (funded_status), `#48cae4` (fx_pct) |
| Threshold çº¢çº¿ | `#e74c3c` |
| ç€‘å¸ƒå›¾ positive | `#00c9a7` |
| ç€‘å¸ƒå›¾ negative | `#e74c3c` |
| ç€‘å¸ƒå›¾ baseline | `#8a9bb0` |

---

## 3. å¸ƒå±€è§„åˆ’

### æ€»ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sidebar    â”‚  Tab æ¡: [Fund Health] [Compliance] [...]    â”‚
â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Logo       â”‚                                              â”‚
â”‚  â”€â”€â”€        â”‚           Tab å†…å®¹åŒº (per-tab å¸ƒå±€)           â”‚
â”‚  æ—¥æœŸé€‰æ‹©å™¨  â”‚                                              â”‚
â”‚  æ•°æ®è¯´æ˜   â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tab1: Fund Health

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Funded Status]  [Surplus]  [Total Assets]  [Dur] [Gap] â”‚  â† 5 ä¸ª st.metric å¡ç‰‡ï¼Œ1 è¡Œæ’æ»¡
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   Funded_status æ—¶é—´åºåˆ—å›¾ (æ»¡å®½))              
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                         â”‚                                â”‚
â”‚    é¥¼å›¾                  â”‚    Actual vs Policy æŸ±çŠ¶å›¾     â”‚  â† columns(1, 1) å·¦å³å„å ä¸€åŠ
â”‚    (5 slice)            â”‚    (6 ç»„å¯¹æ¯”æŸ±)               â”‚
â”‚                         â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

- KPI å¡ç‰‡ç”¨ `st.columns(5)` æ’æˆä¸€è¡Œã€‚æ¯ä¸ªå¡ç‰‡ç”¨ `st.metric()`ã€‚
- ä¸‹åŠéƒ¨åˆ†ç”¨ `st.columns(1, 1)` å·¦å³åˆ†å‰²ï¼Œé¥¼å›¾å’ŒæŸ±çŠ¶å›¾å„å ä¸€åŠå®½åº¦ã€‚
- é¥¼å›¾è¿‡æ»¤æ‰è´Ÿå€¼ï¼ˆCash & Fundingï¼‰ï¼Œåªç”» 5 ä¸ªæ­£å€¼ sliceã€‚

### Tab2: Limits Monitor

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚  [FX ä»ªè¡¨ç›˜ gauge]            â”‚
â”‚   çº¢ç»¿ç¯è¡¨              â”‚  â”€â”€â”€                          â”‚  â† columns(1.2, 0.8)
â”‚   (8 è¡Œ)               â”‚  [Top5 Issuer è¡¨]             â”‚      å·¦å®½å³çª„ï¼Œè¡¨æ ¼éœ€è¦ç©ºé—´
â”‚                         â”‚                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   æ—¶é—´åºåˆ—å›¾ (æ»¡å®½)                                      â”‚  â† 2 æ¡çº¿ + threshold
â”‚   funded_status + fx_pct                                â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- ä¸ŠåŠéƒ¨åˆ†å·¦å³åˆ†å‰²ã€‚å·¦è¾¹æ˜¯æ ¸å¿ƒçº¢ç»¿ç¯è¡¨ï¼ˆ8 è¡Œï¼Œå« FX + Funded Status çš„ global limit è¡Œï¼‰ã€‚å³è¾¹ä¸Šé¢æ”¾ä¸€ä¸ª FX gauge ä»ªè¡¨ç›˜ï¼Œä¸‹é¢æ”¾ Top5 Issuer è¡¨ã€‚
- ä¸‹åŠéƒ¨åˆ†æ»¡å®½æ”¾æ—¶é—´åºåˆ—å›¾ã€‚é»˜è®¤ç”» funded_status å’Œ fx_pct ä¸¤æ¡çº¿ï¼Œå„å¸¦ä¸€æ¡çº¢è‰² threshold çº¿ã€‚
- æ—¶é—´åºåˆ—å›¾ç”¨åŒ Y è½´ï¼ˆå·¦è½´æ˜¯æ¯”ç‡ï¼Œå³è½´ä¹Ÿæ˜¯æ¯”ç‡ä½†é‡ç¨‹ä¸åŒï¼‰ï¼Œå› ä¸º funded_statusï¼ˆ~113%ï¼‰å’Œ fx_pctï¼ˆ~13%ï¼‰é‡ç¨‹å·®ä¸€ä¸ªé‡çº§ã€‚

### Tab3: AI Advisor

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚   å¯¹è¯å†å²åŒº (å¯æ»šåŠ¨, æ»¡å®½)                              â”‚  â† ç”¨ st.container æ¨¡æ‹Ÿ
â”‚                                                         â”‚
â”‚   Assistant: ...                                        â”‚
â”‚   User: ...                                             â”‚
â”‚   Assistant: ...                                        â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [è¾“å…¥æ¡† â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€] [Send]             â”‚  â† åº•éƒ¨å›ºå®šè¾“å…¥åŒº
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- æ»¡å®½å¸ƒå±€ï¼Œä¸ç”¨ columnsã€‚
- å¯¹è¯å†å²ç”¨å¾ªç¯æ¸²æŸ“ `st.chat_message()`ã€‚
- åº•éƒ¨ç”¨ `st.chat_input()` åšè¾“å…¥æ¡†ï¼ˆStreamlit åŸç”Ÿ chat ç»„ä»¶ï¼Œè‡ªå¸¦å‘é€æŒ‰é’®ï¼‰ã€‚


### Tab4: Stress Testing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    â”‚                                    â”‚
â”‚  Sliders           â”‚   ç€‘å¸ƒå›¾ (æ»¡å³ä¾§å®½)               â”‚  â† columns(0.35, 0.65)
â”‚  â”€â”€ Rate â”€â”€        â”‚                                    â”‚      å·¦çª„å³å®½ï¼Œslider ä¸éœ€è¦å¤šå®½
â”‚  â”€â”€ Equity â”€â”€      â”‚                                    â”‚
â”‚  â”€â”€ Inflation â”€â”€   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    â”‚   Top Movers è¡¨ (5 gain + 5 loss)  â”‚
â”‚                    â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- å·¦ä¾§çª„æ æ”¾ 3 ä¸ª sliderã€‚slider å˜åŒ–è§¦å‘å®æ—¶é‡ç®—ï¼ˆè°ƒ `engine.calculate_metrics`ï¼‰ã€‚
- å³ä¾§ä¸Šé¢æ”¾ç€‘å¸ƒå›¾å±•ç¤ºå„é£é™©å› å­çš„ P&L è´¡çŒ®ã€‚ä¸‹é¢æ”¾ Top Movers è¡¨ã€‚
- å·¦ä¾§ä¸Šæ–¹åŠ ä¸€ä¸ª "å½“å‰å‹åŠ›åœºæ™¯ä¸‹çš„ Funded Status" æ•°å­—ï¼Œè®©ç”¨æˆ·çœ‹åˆ° slider å˜åŒ–å¯¹æ•´ä½“æŒ‡æ ‡çš„å½±å“ã€‚

### Tab5: Data Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [æ€»è¡Œæ•°]  [ç¼ºå€¼ç‡]  [å¼‚å¸¸å€¼æ•°]  [æœ€æ–°æ—¥æœŸ]               â”‚  â† 4 ä¸ª KPI å¡ç‰‡
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   æ•°æ®è´¨é‡è¡¨ (æ»¡å®½)                                      â”‚  â† åˆ—çº§åˆ«æ‰«æç»“æœ
â”‚   åˆ—å | ç±»å‹ | ç¼ºå€¼ | å¼‚å¸¸å€¼ | çŠ¶æ€                     â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- ç®€å•çºµå‘å †å ã€‚ä¸Šé¢ 4 ä¸ª KPI å¡ç‰‡åšå¿«é€Ÿæ¦‚è§ˆï¼Œä¸‹é¢æ»¡å®½è¡¨æ ¼å±•å¼€è¯¦æƒ…ã€‚


---

## 4. ç§»åŠ¨ç«¯é€‚é…

**ç»“è®ºï¼šåŸºæœ¬ä¸éœ€è¦æ‰‹åŠ¨é€‚é…ã€‚** ç†ç”±å¦‚ä¸‹ï¼š

Streamlit çš„ `st.columns()` åœ¨ç§»åŠ¨ç«¯ï¼ˆå±å¹•å®½åº¦ < 768pxï¼‰ä¼šè‡ªåŠ¨å•åˆ—å †å ã€‚æ‰€ä»¥æ¡Œé¢ä¸Šçš„å·¦å³å¹¶åˆ—å¸ƒå±€ï¼Œæ‰‹æœºä¸Šè‡ªåŠ¨å˜æˆä¸Šä¸‹é¡ºåºã€‚è¿™æ˜¯æ¡†æ¶è‡ªå¸¦çš„å“åº”å¼è¡Œä¸ºã€‚

éœ€è¦åšçš„åªæœ‰ 3 ç‚¹ï¼š

| ç‚¹ | åšæ³• |
|---|---|
| å›¾è¡¨å®½åº¦ | æ‰€æœ‰ Plotly å›¾è¡¨ä¼  `use_container_width=True`ï¼Œè‡ªåŠ¨å¡«æ»¡çˆ¶å®¹å™¨å®½åº¦ |
| è¡¨æ ¼ | ç”¨ `st.dataframe()` çš„é»˜è®¤è¡Œä¸ºï¼Œæ‰‹æœºä¸Šå¯æ¨ªæ‹‰ã€‚åˆ—å¤ªå¤šæ—¶ç”¨æˆ·è‡ªå·±æ»‘åŠ¨å³å¯ï¼Œä¸éœ€è¦æˆªæ–­åˆ— |
| AI è¾“å…¥æ¡† | æ‰‹æœºé”®ç›˜å¼¹èµ·ä¼šå‹ç¼©å¯ç”¨é«˜åº¦ï¼Œè¿™æ˜¯ Streamlit æœ¬èº«çš„é™åˆ¶ã€‚ç”¨ `st.chat_input()` åŸç”Ÿç»„ä»¶ï¼Œå®ƒåœ¨æ‰‹æœºä¸Šä½“éªŒå·²ç»æ˜¯æ¡†æ¶æœ€å¥½çš„æ–¹æ¡ˆäº† |

ä¸å¼•å…¥ä»»ä½•è‡ªå®šä¹‰ CSS çš„å“åº”å¼ media queryã€‚ä¿æŒç®€æ´ã€‚

---

## 5. CSS æ¶æ„

æ‰€æœ‰ CSS é›†ä¸­åœ¨ app.py çš„ `GLOBAL_CSS` å­—ç¬¦ä¸²é‡Œï¼Œé€šè¿‡ `st.markdown(..., unsafe_allow_html=True)` æ³¨å…¥ã€‚

ä¸åˆ†æ•£åˆ°å„ tab æ–‡ä»¶é‡Œï¼Œç†ç”±ï¼š

- Streamlit çš„ CSS ä½œç”¨åŸŸæ˜¯å…¨é¡µé¢çº§åˆ«ï¼Œä¸æ”¯æŒ per-component scopingã€‚åˆ†æ•£å†™åè€Œä¼šé€ æˆæ ·å¼å†²çªéš¾ä»¥è¿½è¸ªã€‚
- é›†ä¸­åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²é‡Œï¼Œä¿®æ”¹é¢œè‰²çš„æ—¶å€™åªè¦æ”¹ä¸€ä¸ªåœ°æ–¹ã€‚

Tab å±‚é¢å¦‚æœéœ€è¦å±€éƒ¨æ ·å¼ï¼ˆæ¯”å¦‚æŸä¸ªç‰¹æ®Šçš„çŠ¶æ€æ ‡ç­¾ï¼‰ï¼Œç”¨ inline style çš„ `st.markdown('<span style="...">')` å°±å¤Ÿï¼Œä¸å¾€ GLOBAL_CSS åŠ ã€‚

---

## 6. Sidebar è®¾è®¡

Sidebar åªæ”¾ä¸€ä¸ªæ§ä»¶ï¼šæ—¥æœŸé€‰æ‹©å™¨ã€‚

ä¸æ”¾ stress scenario sliderã€‚è™½ç„¶ stress slider åœ¨æ—©æœŸç‰ˆæœ¬é‡Œæ”¾è¿‡ sidebarï¼Œä½†ç»è¿‡åˆ†æå†³å®šæ”¾åœ¨ Tab3 å†…éƒ¨ï¼ŒåŸå› ï¼š

- Stress æ˜¯å‡è®¾æ€§åˆ†æï¼Œåªæœ‰åœ¨ Tab3 çš„ä¸Šä¸‹æ–‡é‡Œæ‰æœ‰æ„ä¹‰ã€‚æ”¾åœ¨ sidebar ä¼šè®©ç”¨æˆ·å›°æƒ‘ï¼šslider å˜äº†ï¼Œä½†å…¶ä»– tab çš„æ•°å­—ä¸å˜ã€‚
- Sidebar æ°¸è¿œå¯è§ï¼Œstress slider æ”¾åœ¨é‚£é‡Œä¼šé€ æˆ"è¿™ä¸ª slider åˆ°åº•å½±å“ä»€ä¹ˆ"çš„è®¤çŸ¥è´Ÿæ‹…ã€‚

æ—¥æœŸé€‰æ‹©å™¨æ”¾åœ¨ sidebar æ˜¯å› ä¸ºå®ƒç¡®å®æ˜¯å…¨å±€çš„â€”â€”æ”¹å˜æ—¥æœŸä¼šå½±å“æ‰€æœ‰ tab çš„æ•°æ®ã€‚

---

## 7. æ‰§è¡Œé¡ºåº

```python
# app.py ä»ä¸Šåˆ°ä¸‹çš„æ‰§è¡Œé¡ºåº:
1. set_page_config()          # å¿…é¡»ç¬¬ä¸€ä¸ª Streamlit è°ƒç”¨
2. st.markdown(GLOBAL_CSS)    # æ³¨å…¥å…¨å±€æ ·å¼
3. load_data()                # @cache_dataï¼Œåªè¯»ä¸€æ¬¡
4. sidebar æ¸²æŸ“               # ç”¨æˆ·é€‰æ—¥æœŸ
5. engine.build_context()     # ç®—å‡º ctx
6. st.tabs() + render()       # ä¾æ¬¡æ¸²æŸ“ 5 ä¸ª tab
```

æ¯æ¬¡ç”¨æˆ·äº¤äº’ï¼ˆé€‰æ—¥æœŸã€åˆ‡ tabï¼‰éƒ½ä¼šé‡æ–°æ‰§è¡Œ 5 å’Œ 6ã€‚ä½† `load_data()` è¢« `@st.cache_data` ç¼“å­˜ï¼Œä¸ä¼šé‡è¯» CSVã€‚
